[workspace]
resolver = "3"
members = ["crates/*"]

[workspace.dependencies]
anyhow = "1.0.96"
arbitrary = { version = "1.4.1", features = ["derive"] }
arbtest = "0.3.2"
arrayvec = "0.7.6"
camino = "1.1.9"
clap = { version = "4.5.30", features = ["derive"] }
coz = "0.1.3"
crossterm = "0.28.1"
downcast-rs = "2.0.1"
flagset = "0.4.6"
indigo-btree = { path = "crates/btree/" }
indigo-cli = { path = "crates/cli/" }
indigo-core = { path = "crates/core/" }
indigo-tui = { path = "crates/tui/" }
itertools = "0.14.0"
ratatui = "0.29.0"
ropey = "1.6.1"
serde = { version = "1.0.218", features = ["derive", "rc"] }
thiserror = "2.0.11"
unicode-segmentation = "1.12.0"
unicode-width = "0.2.0"
winnow = "0.7.3"

[workspace.lints]
clippy.bool_to_int_with_if = "allow"
clippy.missing_errors_doc = "allow"
clippy.missing_panics_doc = "allow"
clippy.module_name_repetitions = "allow"
clippy.redundant_closure_for_method_calls = "allow"
clippy.allow_attributes = "warn"
clippy.pedantic = { level = "warn", priority = -1 }
clippy.use_self = "warn"
rust.dead_code = "allow" # TODO: Remove

[profile.coz]
inherits = "dev"
opt-level = 3
